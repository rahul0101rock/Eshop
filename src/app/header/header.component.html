<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand ms-4 lead" href="/">
        <img class="img-fluid d-inline-block"
            src="https://firebasestorage.googleapis.com/v0/b/eshop-rahul.appspot.com/o/eShop.png?alt=media&token=fe4f52aa-c98f-46d7-be5d-d360d69963b4"
            width="45" alt="Recipe Book">
        eShop
    </a>
    <div class="vr text-light my-auto" style="height: 30px;"></div>
    <a class="nav-link text-secondary" routerLink="/products" routerLinkActive="text-light">Products</a>
    <button data-bs-toggle="collapse" class="navbar-toggler mx-4" data-bs-target="#navdata">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navdata">
        <ul class="navbar-nav navbar-right ms-auto">
            <li class="nav-item mx-4 my-2 mx-lg-0 my-lg-0">
                <div class="input-group">
                    <input type="text" class="form-control px-4" placeholder="Search for products" size="80"
                        [(ngModel)]="searchText" (keyup.enter)="onSearch()">
                    <button class="btn btn-outline-light" type="submit" (click)="onSearch()"> <i
                            class="fa fa-search"></i> </button>
                </div>
            </li>
        </ul>
        <ul class="navbar-nav ms-auto mx-4">
            <li class="nav-item mx-auto">
                <a style="cursor: pointer;" class="nav-link float-start mx-4 mx-lg-0" routerLink="/auth/login" routerLinkActive="text-light" *ngIf="!loggedIn; else logged">
                    Login <i class="fa fa-sign-in"></i>
                </a>
                <ng-template #logged>
                    <ul class="navbar-nav" >
                        <li class="dropdown nav-item">
                            <a class="dropdown-toggle nav-link" href="#" data-bs-toggle="dropdown"><i class="fa fa-user-o"></i> {{user?.displayName}}</a>
                            <ul class="dropdown-menu bg-dark">
                                <li><a style="cursor: pointer;" class="nav-link text-light text-center" >My Profile</a></li>
                                <li><a style="cursor: pointer;" class="nav-link text-light text-center" (click)="onLogout()">Logout <i class="fa fa-sign-out"></i></a></li>
                            </ul>
                        </li>
                    </ul>
                </ng-template>
            </li>
            <li class="nav-item mx-auto">
                <a routerLink="/cart" routerLinkActive="text-light" style="cursor: pointer;" class="nav-link ">

                    <div class="position-relative">
                        <i class="fa fa-shopping-cart" style="font-size: x-large;"></i>
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
                            *ngIf="cartItems.length > 0">
                            {{cartItems.length}}
                        </span>
                    </div>
                </a>
            </li>
        </ul>
    </div>
</nav>